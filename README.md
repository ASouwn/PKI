# PKI

## tree

~~~
pki/
├── core/
│   ├── pki/                  # PKI核心逻辑模块
│   │   ├── cert_manager.go   # 证书管理逻辑
│   │   ├── ca.go             # CA相关逻辑
│   │   └── revocation.go     # 证书吊销逻辑
│   └── crypto/               # 加密工具模块
│       ├── interface.go      # 定义加密工具的接口
│       ├── go_crypto/        # 使用Go标准库实现的加密工具
│       │   └── impl.go       # 具体实现
│       ├── openssl/          # 使用OpenSSL实现的加密工具
│       │   └── impl.go       # 具体实现
│       └── cryptoFactory.go  # 加密工具工厂模式实现
├── config/                   # 配置模块
│   └── config.go             # 系统配置加载与解析
├── utils/                    # 工具模块
│   └── helper.go             # 辅助函数
├── main.go                   # 主程序入口
└── README.md                 # 项目说明文档
~~~

### 目录结构说明

pki/

存放PKI的核心逻辑，包括证书管理、CA操作、证书吊销等功能。
这些模块依赖于crypto/中的加密工具，但不直接绑定具体的实现。

crypto/

提供加密工具的抽象接口和具体实现。
interface.go定义加密工具的通用接口，例如生成密钥对、签名、验签等。
go_crypto/和openssl/分别实现基于Go标准库和OpenSSL的加密功能。
factory.go通过工厂模式动态选择具体的加密工具实现。

config/

存放配置相关的代码，用于加载和解析系统配置。
可以通过配置文件或环境变量指定使用哪种加密工具（Go标准库或OpenSSL）。

utils/

存放一些辅助函数或工具类代码，比如日志记录、文件操作等。

main.go

主程序入口，负责初始化配置、启动服务等。

README.md

项目说明文档，描述项目的功能、目录结构、依赖以及如何运行。

## 项目说明

1. 基于OpenSSL，支持生成自签名证书，并加入额外的信任链信息；
2. 实现证书的生命周期管理，包括颁发、更新、吊销等操作；
3. 开发并集成内部信任链，通过内部CA为自签名证书提供信任链，确保证书可追溯；
4. 开发一个简单的透明日志记录系统，记录所有签发、更新、吊销的证书。、

提高要求：
1. 设计引用更高安全性的签名算法（如ECC、SHA-256、SHA-3等）；
2. 构建一个基于内部CA的多级信任体系，扩展证书的适用范围和可信度；
3. 设计一个自动更新和替换过期自签名证书的系统，避免因证书过期导致的安全风险；
4. 加强证书验证或使用双向SSL/TLS，防范中间人攻击。

## 流程说明

主要有以下4个部分组成
1. 客户端
2. 注册中心（RA）
3. 认证中心（CA）
4. 证书存储
